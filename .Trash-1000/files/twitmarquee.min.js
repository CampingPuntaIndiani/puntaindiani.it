window.twttr=window.twttr||{};var processSummizeInternal=function(a){(a=page.trendDescriptions[page.query])?($("#trend_info").hide(),$("#trend_description span").text(_("%{trend} is a popular topic on Twitter right now.",{trend:a[0]})),$("#trend").text(_("%{trend}",{trend:a[0]})),$("#trend_description p").html(a[1]),$("#trend_description").show()):($("#trend_description").hide(),$("#trend_info").show());a&&0<a[1].length?$(".trenddesc").show():$(".trenddesc").hide()};$.fn.isSearchLink=function(a){return this.each(function(){$(this).click(function(a){$("#trends_list li.active a").removeClass("active")})})};
function loadTrendDescriptions(){$("#trends a").each(function(){var a=$(this),c=a.parent().find("em");if(c.length){var b=a.text(),c=c.text().replace(RegExp(b.replace(/([^\w])/gi,"\\$1"),"gi"),"<strong>"+b+"</strong>"),a=a.attr("title").length?a.attr("title"):a.attr("name");page.trendDescriptions[a]=[b,c]}})}$(document).ready(function(){page.trendDescriptions={};loadTrendDescriptions()});window.twttr.bounds=window.twttr.bounds||{};
$.extend(twttr.bounds,{Bounds:function(a,c,b,d){this.x=a;this.y=c;this.width=b;this.height=d}});$.extend(twttr.bounds.Bounds.prototype,{encloses:function(a,c){return a>this.x&&a<this.x+this.width&&c>this.y&&c<this.y+this.height},toString:function(){return"("+this.x+","+this.y+") "+this.width+"x"+this.height}});(function(a){a.fn.extend({bounds:function(){var a=this.eq(0),b=a.offset();return new twttr.bounds.Bounds(b.left,b.top,a.outerWidth(),a.outerHeight())}})})(jQuery);
(function(a){a.extend(window,{TrendTip:{parseIntDefault:function(a,b){b=b||0;var d=parseInt(a);return isNaN(d)?b:d},clearBounds:function(){this.data("bounds",[])},addToBounds:function(a){this.data("bounds")||this.data("bounds",[]);this.data("bounds").push(a)},enclosing:function(c,b){this.data("bounds")||this.data("bounds",[]);var d=!1;a.each(this.data("bounds"),function(a,f){f.encloses(c,b)&&(d=!0)});return d},clearScrollInterval:function(){clearInterval(this.data("interval"))},setScrollInterval:function(a){this.data("interval")&&
this.clearScrollInterval();this.data("interval",setInterval(a,30))},duplicateContent:function(c){var b=0;c.children().each(function(){b+=a(this).outerWidth(!0);c.append(a(this).clone())});c.css({zoom:1,width:2*b+"px"});return b},initScroller:function(){var a=this,b=this.duplicateContent(a),d=TrendTip.parseIntDefault(a.css("left"),0),e=function(){d=d%b-1;a.css({left:d})};a.bind("trendEnter",function(){a.clearScrollInterval()}).bind("trendLeave",function(){a.setScrollInterval(e)}).trigger("trendLeave")}}});
a.extend(a.fn,{trendTip:function(){var c=!1,b=a(this);a.extend(b,TrendTip);b.initScroller();b.find("li a").each(function(){var d=a(this).closest("li");a(this).mouseenter(function(c){var d=a(this);a("#trends .inner").trigger("trendLeave");b.oldCapturedTrend&&b.oldCapturedTrend.trigger("trendLeave");b.oldCapturedTrend=d;b.addToBounds(d.bounds());if(b.enclosing(c.pageX,c.pageY)){a("#trends .inner").trigger("trendEnter");d.trigger("trendEnter");var g=function(c){b.enclosing(c.pageX,c.pageY)||(a("#trends .inner").trigger("trendLeave"),
d.trigger("trendLeave"))};a(document).bind("mousemove",g);d.bind("trendLeave",function(c){b.clearBounds();a(document).unbind("mousemove",g)})}}).bind("trendEnter",function(){if(!b.hoveringTrend){var e=a(".trendtip"),f=a(this).offset(),g=Math.round(a(this).outerWidth()/2),l=Math.round(e.outerWidth()/2),h=d.find("a").text(),k=d.find("em.description").html();e.find(".trendtip-trend").html(h);e.find(".trendtip-trend").attr("href",a(this).attr("href")).attr("name",h);""!=a.trim(k)?(e.find(".trendtip-why").show(),
e.find(".trendtip-desc").html(k)):e.find(".trendtip-why").hide();c=setTimeout(function(){clearTimeout(c);d.find("a.search_link").addClass("active");e.css({top:f.top+35,left:f.left+g-l,position:"absolute",zIndex:1E4});e.fadeIn("fast",function(){b.hoveringTrend=!0});b.addToBounds(e.bounds())},400)}}).bind("trendLeave",function(d){clearTimeout(c);a("#trends a.search_link").removeClass("active");b.hoveringTrend&&(a(".trendtip").fadeOut("fast"),b.hoveringTrend=!1)})});return this}})})(jQuery);
function FrontPage(){return $.extend(this,{$trends:$("#trends"),$trendTip:$(".trendtip:eq(0)")})}$.extend(FrontPage.prototype,{init:function(){this.initTrendHover()},initTrendHover:function(){this.hoveringTrend=!1;$("#trends ul").trendTip()}});jQuery;
